# -------------------------------------------------------------------------- ###
# Soru 1a https://github.com/hakanburakgunyel/Final
# -------------------------------------------------------------------------- ###


# -------------------------------------------------------------------------- ###
# Soru 2a 
titanic %>%
  group_by(sex) %>% 
  summarise(mean_fare= mean(fare, na.rm= TRUE))
# -------------------------------------------------------------------------- ###


# -------------------------------------------------------------------------- ###
# Soru 2b 

titanic %>% 
na.omit() %>% 
  ggplot(aes(x = sex, y = age)) +
  geom_boxplot() +
  labs(x = "Cinsiyet",
       y = "YaÅŸ") 
# -------------------------------------------------------------------------- ###


# -------------------------------------------------------------------------- ###
# Soru 2c 
titanic %>%
  ggplot(aes(x = age)) +
  geom_histogram(aes(y = ..density..),
                 colour = "black", 
                 fill = "white") +
  geom_density(alpha = 0.5, 
               fill = "pink")      
# -------------------------------------------------------------------------- ###


# -------------------------------------------------------------------------- ###
# Soru 3a 
c(10,13)

# -------------------------------------------------------------------------- ###


# -------------------------------------------------------------------------- ###
# Soru 3b 
library(dplyr)
dat3 <- inner_join(dat1, dat2)
# -------------------------------------------------------------------------- ###


# -------------------------------------------------------------------------- ###
# Soru 3c 
  ggplot(titanic) + aes(x = a , y = b ) + geom_point()
  + labs(x= "a", y= "b") + theme_bw() + 
    geom_smooth(method = "lm", se = TRUE, color = "steelblue")

# -------------------------------------------------------------------------- ###


# -------------------------------------------------------------------------- ###
# Soru 3d 
  c(2,4)
# -------------------------------------------------------------------------- ###


# -------------------------------------------------------------------------- ###
# Soru 3e ----
# -------------------------------------------------------------------------- ###


# -------------------------------------------------------------------------- ###
# Soru 3f ----
# -------------------------------------------------------------------------- ###


# -------------------------------------------------------------------------- ###
# Soru 3g ----
# -------------------------------------------------------------------------- ###


# -------------------------------------------------------------------------- ###
# Soru 4a 
  dat <- tribble(
    ~country, ~`2018`, ~`2019`, ~`2020`,
    "Ingiltere", 8000, 8100, 8500,
    "Almanya", 10000, 11000, 10200
  )
  
  dat2 <- dat %>%
    pivot_longer(cols = `2018`:`2020`,
                 names_to = "year",
                 values_to = "gdp")
# -------------------------------------------------------------------------- ###


# -------------------------------------------------------------------------- ###
# Soru 5a 
  ggplot(dat, aes(x=cut, y=price)) +
    geom_boxplot() +
    labs(x="Cut", y="Price") +
    theme_minimal()
# -------------------------------------------------------------------------- ###